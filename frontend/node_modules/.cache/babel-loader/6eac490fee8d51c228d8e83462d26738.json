{"ast":null,"code":"var _jsxFileName = \"/home/dci/Desktop/AllAufgaben/Final Projekt/final-project/frontend/src/components/Navbar/Pages/Articles.js\",\n    _s = $RefreshSig$();\n\nimport CreateArticle from \"../../Articles/CreateArticle/CreateArticle\";\nimport Article from \"../../Articles/Article/Article\";\nimport AllArticles from \"../../Articles/AllArticles/AllArticles\";\nimport { useState, useEffect } from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Articles = () => {\n  _s();\n\n  const [articles, setArticles] = useState([]);\n  useEffect(() => {\n    getArticlesData();\n  }, []);\n  useEffect(() => {//onsole.log('article hat sich verändert', articles)\n  }, [articles]);\n\n  const getArticlesData = async () => {\n    const data = await fetch(\"http://localhost:3369/articles\");\n    const res = await data.json();\n    console.log(\"articles in fetch\", res);\n    setArticles(res.reverse());\n  };\n\n  const addNewArticle = async newArticle => {\n    const userArticle = localStorage.getItem(\"user\");\n    const userToObject = JSON.parse(userArticle);\n    newArticle.userId = userToObject._id;\n    console.log('newArticle =>', newArticle);\n    const res = await fetch('http://localhost:3369/articles', {\n      method: 'POST',\n      mode: 'cors',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(newArticle)\n    });\n    console.log(\"newArticle: \", newArticle);\n    const newArticleApi = await res.json();\n    console.log(\"newArticleApi: \", newArticleApi);\n    const upditArticle = [newArticleApi, ...articles];\n    setArticles(upditArticle);\n    console.log(newArticleApi);\n  };\n\n  const deleteArticle = async id => {\n    const deleteUrl = `http://localhost:3369/articles/${id}`;\n    const res = await fetch(deleteUrl, {\n      method: 'DELETE',\n      headers: {\n        'Authorization': localStorage.getItem(\"food-token\") || \"\"\n      }\n    });\n    const articlesDeleteUpate = articles.filter(article => article._id !== id);\n    setArticles(articlesDeleteUpate);\n  };\n\n  const updateArticle = async (id, artUpdate) => {\n    const updateUrl = `http://localhost:3369/articles/${id}`;\n    const res = await fetch(updateUrl, {\n      method: \"PUT\",\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(artUpdate)\n    }); // const newArticleApi = await res.json();\n    // console.log('newArticleApi', newArticleApi)\n    // const ArticleUpdated = articles.map(article => article._id === id ? artUpdate : article);\n    // setArticles(ArticleUpdated)\n    // console.log(\"state set: \", articles)\n\n    console.log(\"update article done\");\n    getArticlesData();\n  };\n\n  const getArticleById = async id => {\n    const article = articles.find(art => art._id === id);\n    console.log('article => ', article);\n    return article;\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Switch, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: \"/articles\",\n        children: /*#__PURE__*/_jsxDEV(AllArticles, {\n          data: articles\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/create-article\",\n        children: /*#__PURE__*/_jsxDEV(CreateArticle, {\n          data: articles,\n          addNewArticle: addNewArticle,\n          deleteArticle: deleteArticle,\n          updateArticle: updateArticle\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/article/:id\",\n        children: /*#__PURE__*/_jsxDEV(Article, {\n          data: articles\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 85,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Articles, \"LDSMaJNmQkCLkooupiv3eMc4dj4=\");\n\n_c = Articles;\nexport default Articles;\n\nvar _c;\n\n$RefreshReg$(_c, \"Articles\");","map":{"version":3,"sources":["/home/dci/Desktop/AllAufgaben/Final Projekt/final-project/frontend/src/components/Navbar/Pages/Articles.js"],"names":["CreateArticle","Article","AllArticles","useState","useEffect","Route","Switch","Articles","articles","setArticles","getArticlesData","data","fetch","res","json","console","log","reverse","addNewArticle","newArticle","userArticle","localStorage","getItem","userToObject","JSON","parse","userId","_id","method","mode","headers","body","stringify","newArticleApi","upditArticle","deleteArticle","id","deleteUrl","articlesDeleteUpate","filter","article","updateArticle","artUpdate","updateUrl","getArticleById","find","art"],"mappings":"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","sourcesContent":["import CreateArticle from \"../../Articles/CreateArticle/CreateArticle\";\nimport Article from \"../../Articles/Article/Article\";\nimport AllArticles from \"../../Articles/AllArticles/AllArticles\";\nimport { useState, useEffect } from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\n\nconst Articles = () => {\n    const [articles, setArticles] = useState([]);\n\n    useEffect(() => {\n        getArticlesData();\n    }, [])\n\n    useEffect(() => {\n        //onsole.log('article hat sich verändert', articles)\n\n\n    }, [articles])\n\n    const getArticlesData = async () => {\n        const data = await fetch(\"http://localhost:3369/articles\");\n        const res = await data.json();\n        console.log(\"articles in fetch\", res)\n        setArticles(res.reverse());\n    }\n\n    const addNewArticle = async (newArticle) => {\n        const userArticle = localStorage.getItem(\"user\");\n        const userToObject = JSON.parse(userArticle);\n        newArticle.userId = userToObject._id;\n        console.log('newArticle =>', newArticle);\n        const res = await fetch('http://localhost:3369/articles', {\n            method: 'POST',\n            mode: 'cors',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify(newArticle)\n        });\n        console.log(\"newArticle: \", newArticle);\n        const newArticleApi = await res.json();\n        console.log(\"newArticleApi: \", newArticleApi);\n        const upditArticle = [newArticleApi, ...articles]\n        setArticles(upditArticle)\n        console.log(newArticleApi);\n    }\n\n    const deleteArticle = async (id) => {\n        const deleteUrl = `http://localhost:3369/articles/${id}`;\n        const res = await fetch(deleteUrl, {\n            method: 'DELETE',\n            headers: {\n                'Authorization': localStorage.getItem(\"food-token\") || \"\"\n            }\n        });\n        const articlesDeleteUpate = articles.filter(article => article._id !== id)\n        setArticles(articlesDeleteUpate)\n    }\n\n    const updateArticle = async (id, artUpdate) => {\n        const updateUrl = `http://localhost:3369/articles/${id}`;\n\n\n        const res = await fetch(updateUrl, {\n            method: \"PUT\",\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify(artUpdate)\n\n        });\n        // const newArticleApi = await res.json();\n        // console.log('newArticleApi', newArticleApi)\n        // const ArticleUpdated = articles.map(article => article._id === id ? artUpdate : article);\n        // setArticles(ArticleUpdated)\n        // console.log(\"state set: \", articles)\n        console.log(\"update article done\");\n        getArticlesData();\n    }\n\n    const getArticleById = async (id) => {\n\n        const article = articles.find(art => art._id === id);\n        console.log('article => ', article)\n        return article;\n    }\n\n    return (\n        <div >\n            <Switch>\n                <Route path='/articles'>\n                    <AllArticles\n                        data={articles}\n\n                    />\n                </Route>\n\n                <Route path='/create-article'>\n                    <CreateArticle\n                        data={articles}\n                        addNewArticle={addNewArticle}\n                        deleteArticle={deleteArticle}\n                        updateArticle={updateArticle}\n                    />\n                </Route>\n\n\n                <Route path='/article/:id'>\n                    <Article data={articles} />\n                </Route>\n\n            </Switch>\n\n\n        </div>\n    )\n}\nexport default Articles;"]},"metadata":{},"sourceType":"module"}