{"ast":null,"code":"var _jsxFileName = \"/home/dci/Desktop/AllAufgaben/mywunderbar/final-project/frontend/src/components/Articles/CreateArticle/CreateArticle.js\",\n    _s = $RefreshSig$();\n\nimport Container from 'react-bootstrap/Container';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport Card from 'react-bootstrap/Card';\nimport Col from 'react-bootstrap/Col';\nimport Row from 'react-bootstrap/Row';\nimport styles from './CreateArticle.module.scss';\nimport { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { FaPen } from \"react-icons/fa\";\nimport { FaTrashAlt } from \"react-icons/fa\";\nimport { FaTimes } from \"react-icons/fa\";\nimport TimeAgo from 'javascript-time-ago';\nimport ReactTimeAgo from 'react-time-ago';\nimport Arrows from '../../Arrows/Arrows';\nimport de from 'javascript-time-ago/locale/en';\n/* import { useJwt } from \"react-jwt\"; \nconst token = localStorage.getItem(\"food-token\"); */\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst CreateArticle = ({\n  data,\n  addNewArticle,\n  deleteArticle,\n  updateArticle,\n  doesUserHaveArticle\n}) => {\n  _s();\n\n  /* const { decodedToken, isExpired } = useJwt(token); */\n  TimeAgo.addDefaultLocale(de);\n  useEffect(() => {}, [data]);\n  const [title, setTitle] = useState('');\n  const [text, setText] = useState('');\n  const [file, setFile] = useState(null);\n  const [imageUpdated, setImageUpdate] = useState(false);\n  /*  const [createDate, setCreateDate] = useState(Number); */\n\n  const [previewImageSrc, setPreviewImageSrc] = useState(\"\");\n  const [idToEdite, setIdToEdite] = useState('');\n\n  const fileChangeHandler = event => {\n    setImageUpdate(true);\n    let fileReader = new FileReader();\n    console.log(Date.now());\n    fileReader.readAsDataURL(event.target.files[0]);\n\n    fileReader.onloadend = () => {\n      let [file] = event.target.files;\n\n      if (file) {\n        setPreviewImageSrc(URL.createObjectURL(file));\n      }\n\n      const base64ImageUrl = fileReader.result; //console.log('base64Image', base64ImageUrl);\n\n      setFile(base64ImageUrl);\n    };\n  };\n\n  const handleAddSubmit = event => {\n    event.preventDefault();\n    const newArticle = {\n      title: title,\n      text: text,\n      image: file\n    };\n    addNewArticle(newArticle);\n    setTitle('');\n    setText('');\n    setPreviewImageSrc('');\n  };\n\n  const handleEditeSubmit = event => {\n    event.preventDefault();\n    const UpditeArticle = {\n      title: title,\n      text: text,\n      image: file\n    };\n    updateArticle(idToEdite, UpditeArticle);\n    setIdToEdite('');\n    setTitle('');\n    setText('');\n    setPreviewImageSrc('');\n  };\n\n  const updateHandle = article => {\n    setTitle(article.title);\n    setText(article.text);\n    setIdToEdite(article._id);\n    setPreviewImageSrc(article.image);\n    doesUserHaveArticle(article._id);\n    /* setCreateDate(article.createDate) */\n  };\n\n  const convertToCamelCase = word => {\n    return word[0].toUpperCase() + word.slice(1);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(Arrows, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.containerH2,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.wrapper,\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Add or Edit an new Article\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      className: \"justify-content-md-center\",\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        sm: 12,\n        md: 12,\n        lg: 6,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          className: styles.cardCreateArt,\n          children: /*#__PURE__*/_jsxDEV(Form, {\n            onSubmit: idToEdite ? handleEditeSubmit : handleAddSubmit,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.imageCreateDiv,\n              children: previewImageSrc ? /*#__PURE__*/_jsxDEV(\"img\", {\n                className: styles.imageCreate,\n                src: previewImageSrc,\n                alt: \"test\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 125,\n                columnNumber: 52\n              }, this) : null\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.addPhotoDiv,\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: [styles.box, styles.box1].join(' '),\n                children: [/*#__PURE__*/_jsxDEV(Form.Control, {\n                  className: styles.inputFile,\n                  type: \"file\",\n                  name: \"file\",\n                  onChange: fileChangeHandler\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 143,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: styles.name,\n                  children: \"Add Photo\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 150,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: styles.iButton\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 151,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 142,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              className: styles.inputText,\n              type: \"text\"\n              /*  placeholder={`Whatâ€™s on your mind ${convertToCamelCase(data[0].userId.firstName)}?`} */\n              ,\n              value: title,\n              onChange: e => setTitle(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n              className: \"mb-3\",\n              controlId: \"Text\",\n              children: /*#__PURE__*/_jsxDEV(Form.Control, {\n                as: \"textarea\",\n                className: styles.inputTextArea,\n                rows: 3,\n                placeholder: \"Enter your Text\",\n                value: text,\n                onChange: e => setText(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 171,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n              controlId: \"formFile\",\n              className: \"mb-3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.addAndBackBtnDiv,\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: [styles.box, styles.box2].join(' '),\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: styles.name,\n                  children: idToEdite ? 'Save' : 'Add'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 194,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: styles.iButton\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 195,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 193,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Link, {\n                to: \"articles\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: [styles.box, styles.box3].join(' '),\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: styles.name,\n                    children: \"Back to Articles\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 204,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: styles.iButton\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 205,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 203,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        sm: 12,\n        md: 12,\n        lg: 6,\n        children: data.map(article => {\n          return /*#__PURE__*/_jsxDEV(Card, {\n            className: styles.cardCreateArt,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.articleAndUserImages,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: styles.imgArticleDiv,\n                children: /*#__PURE__*/_jsxDEV(Card.Img, {\n                  className: styles.imgArticle,\n                  variant: \"top\",\n                  src: article.image\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 225,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 224,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: styles.containerDataUser,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: styles.imgUserDiv,\n                  children: /*#__PURE__*/_jsxDEV(Card.Img, {\n                    className: styles.imgUser,\n                    variant: \"top\",\n                    src: article.userId.image\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 231,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 230,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n                  className: styles.textUser,\n                  children: convertToCamelCase(article.userId.firstName) + ' ' + convertToCamelCase(article.userId.lastName)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 233,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n                  className: styles.textTime,\n                  children: /*#__PURE__*/_jsxDEV(ReactTimeAgo, {\n                    date: article.updatedAt,\n                    locale: \"en-En\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 242,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 241,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 229,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n              children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n                className: styles.titleArticle,\n                children: article.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 251,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n                children: article.text\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 257,\n                columnNumber: 37\n              }, this), article.canEdit ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: styles.editDeleteIcon,\n                children: [/*#__PURE__*/_jsxDEV(FaPen, {\n                  className: styles.etitIcon,\n                  onClick: () => updateHandle(article)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 270,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(FaTrashAlt, {\n                  className: styles.deleteIcon,\n                  onClick: () => deleteArticle(article._id)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 279,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 263,\n                columnNumber: 41\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 284,\n                columnNumber: 43\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 33\n            }, this)]\n          }, article._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 29\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 111,\n    columnNumber: 9\n  }, this);\n};\n\n_s(CreateArticle, \"dN+tJVA9/Zx+PsKDvG6UXU/6am4=\");\n\n_c = CreateArticle;\nexport default CreateArticle;\n\nvar _c;\n\n$RefreshReg$(_c, \"CreateArticle\");","map":{"version":3,"sources":["/home/dci/Desktop/AllAufgaben/mywunderbar/final-project/frontend/src/components/Articles/CreateArticle/CreateArticle.js"],"names":["Container","Form","Button","Card","Col","Row","styles","useState","useEffect","Link","FaPen","FaTrashAlt","FaTimes","TimeAgo","ReactTimeAgo","Arrows","de","CreateArticle","data","addNewArticle","deleteArticle","updateArticle","doesUserHaveArticle","addDefaultLocale","title","setTitle","text","setText","file","setFile","imageUpdated","setImageUpdate","previewImageSrc","setPreviewImageSrc","idToEdite","setIdToEdite","fileChangeHandler","event","fileReader","FileReader","console","log","Date","now","readAsDataURL","target","files","onloadend","URL","createObjectURL","base64ImageUrl","result","handleAddSubmit","preventDefault","newArticle","image","handleEditeSubmit","UpditeArticle","updateHandle","article","_id","convertToCamelCase","word","toUpperCase","slice","containerH2","wrapper","cardCreateArt","imageCreateDiv","imageCreate","addPhotoDiv","box","box1","join","inputFile","name","iButton","inputText","e","value","inputTextArea","addAndBackBtnDiv","box2","box3","map","articleAndUserImages","imgArticleDiv","imgArticle","containerDataUser","imgUserDiv","imgUser","userId","textUser","firstName","lastName","textTime","updatedAt","titleArticle","canEdit","editDeleteIcon","etitIcon","deleteIcon"],"mappings":"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","sourcesContent":["import Container from 'react-bootstrap/Container';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport Card from 'react-bootstrap/Card';\nimport Col from 'react-bootstrap/Col';\nimport Row from 'react-bootstrap/Row';\nimport styles from './CreateArticle.module.scss';\nimport { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { FaPen } from \"react-icons/fa\";\nimport { FaTrashAlt } from \"react-icons/fa\";\nimport { FaTimes } from \"react-icons/fa\";\nimport TimeAgo from 'javascript-time-ago';\nimport ReactTimeAgo from 'react-time-ago';\nimport Arrows from '../../Arrows/Arrows';\nimport de from 'javascript-time-ago/locale/en';\n\n/* import { useJwt } from \"react-jwt\"; \nconst token = localStorage.getItem(\"food-token\"); */\n\n\nconst CreateArticle = ({ data, addNewArticle, deleteArticle, updateArticle, doesUserHaveArticle }) => {\n    /* const { decodedToken, isExpired } = useJwt(token); */\n\n    TimeAgo.addDefaultLocale(de);\n\n\n    useEffect(() => {\n\n\n\n    }, [data])\n\n    const [title, setTitle] = useState('');\n    const [text, setText] = useState('');\n    const [file, setFile] = useState(null);\n    const [imageUpdated, setImageUpdate] = useState(false);\n    /*  const [createDate, setCreateDate] = useState(Number); */\n\n    const [previewImageSrc, setPreviewImageSrc] = useState(\"\");\n\n    const [idToEdite, setIdToEdite] = useState('');\n\n    const fileChangeHandler = (event) => {\n        setImageUpdate(true)\n        let fileReader = new FileReader();\n        console.log(Date.now())\n        fileReader.readAsDataURL(event.target.files[0])\n        fileReader.onloadend = () => {\n\n            let [file] = event.target.files;\n            if (file) {\n                setPreviewImageSrc(URL.createObjectURL(file))\n            }\n\n            const base64ImageUrl = fileReader.result;\n            //console.log('base64Image', base64ImageUrl);\n\n            setFile(base64ImageUrl)\n        }\n    }\n\n    const handleAddSubmit = (event) => {\n\n        event.preventDefault();\n\n        const newArticle = {\n            title: title,\n            text: text,\n            image: file,\n\n        }\n        addNewArticle(newArticle)\n        setTitle('');\n        setText('');\n        setPreviewImageSrc('');\n    }\n    const handleEditeSubmit = (event) => {\n        event.preventDefault();\n\n\n        const UpditeArticle = {\n            title: title,\n            text: text,\n            image: file,\n\n        }\n        updateArticle(idToEdite, UpditeArticle)\n        setIdToEdite('')\n        setTitle('');\n        setText('');\n        setPreviewImageSrc('');\n\n\n    }\n\n    const updateHandle = (article) => {\n        setTitle(article.title);\n        setText(article.text);\n        setIdToEdite(article._id);\n        setPreviewImageSrc(article.image);\n        doesUserHaveArticle(article._id)\n        /* setCreateDate(article.createDate) */\n    }\n\n    const convertToCamelCase = (word) => {\n        return word[0].toUpperCase() + word.slice(1);\n    }\n\n    return (\n        <Container>\n            <Arrows />\n            <div className={styles.containerH2}>\n                <div className={styles.wrapper}>\n                    <h2>Add or Edit an new Article</h2>\n                </div>\n            </div>\n\n            <Row className=\"justify-content-md-center\">\n                <Col sm={12} md={12} lg={6}>\n\n                    <Card className={styles.cardCreateArt}>\n                        <Form onSubmit={idToEdite ? handleEditeSubmit : handleAddSubmit} >\n                            <div className={styles.imageCreateDiv}>\n                                {previewImageSrc ? <img className={styles.imageCreate} src={previewImageSrc} alt=\"test\" /> : null}\n\n                            </div>\n                            {/*  <Button className={styles.addPhotoBtn}\n                            variant=\"outline-primary\"\n                        >\n\n                            Add Photo\n                            <Form.Control\n                                className={styles.inputFile}\n                                type=\"file\"\n                                name='file'\n                                onChange={fileChangeHandler}\n\n                            />\n                        </Button> */}\n                            <div className={styles.addPhotoDiv}>\n                                <button className={[styles.box, styles.box1].join(' ')}>\n                                    <Form.Control\n                                        className={styles.inputFile}\n                                        type=\"file\"\n                                        name='file'\n                                        onChange={fileChangeHandler}\n\n                                    />\n                                    <span className={styles.name}>Add Photo</span>\n                                    <i className={styles.iButton}></i>\n\n\n                                </button>\n                            </div>\n\n\n\n\n                            <Form.Control\n                                className={styles.inputText}\n                                type=\"text\"\n                                /*  placeholder={`Whatâ€™s on your mind ${convertToCamelCase(data[0].userId.firstName)}?`} */\n                                value={title}\n                                onChange={(e) => setTitle(e.target.value)}\n\n                            />\n\n                            <Form.Group className=\"mb-3\" controlId=\"Text\">\n\n                                <Form.Control as=\"textarea\"\n                                    className={styles.inputTextArea}\n                                    rows={3}\n                                    placeholder=\"Enter your Text\"\n                                    value={text}\n                                    onChange={(e) => setText(e.target.value)}\n\n                                />\n                            </Form.Group>\n\n                            <Form.Group controlId=\"formFile\" className=\"mb-3\">\n                                {/*        <FaPlusCircle color=\"darkcyan\" size=\"20px\"\n                                className={styles.addPhotoBtn}\n\n                            /> */}\n\n\n                            </Form.Group>\n\n                            <div className={styles.addAndBackBtnDiv}>\n\n\n                                <button className={[styles.box, styles.box2].join(' ')}>\n                                    <span className={styles.name}>{idToEdite ? 'Save' : 'Add'}</span>\n                                    <i className={styles.iButton}></i>\n                                </button>\n\n\n\n\n                                <Link to='articles'>\n\n                                    <button className={[styles.box, styles.box3].join(' ')}>\n                                        <span className={styles.name}>Back to Articles</span>\n                                        <i className={styles.iButton}></i>\n                                    </button>\n                                </Link>\n                            </div>\n\n\n                        </Form>\n                    </Card>\n                </Col>\n\n                <Col sm={12} md={12} lg={6}>\n                    {data.map(article => {\n\n\n                        return (\n\n                            <Card key={article._id} className={styles.cardCreateArt}>\n\n                                <div className={styles.articleAndUserImages}>\n                                    <div className={styles.imgArticleDiv}>\n                                        <Card.Img className={styles.imgArticle} variant=\"top\" src={article.image} />\n\n                                    </div>\n\n                                    <div className={styles.containerDataUser}>\n                                        <div className={styles.imgUserDiv}>\n                                            <Card.Img className={styles.imgUser} variant=\"top\" src={article.userId.image} />\n                                        </div>\n                                        <Card.Text className={styles.textUser}>\n                                            {\n                                                convertToCamelCase(article.userId.firstName) + ' ' +\n                                                convertToCamelCase(article.userId.lastName)\n                                            }\n\n                                        </Card.Text>\n\n                                        <Card.Text className={styles.textTime}>\n                                            <ReactTimeAgo date={article.updatedAt} locale=\"en-En\" />\n\n                                        </Card.Text>\n                                    </div>\n\n\n                                </div>\n\n                                <Card.Body>\n                                    <Card.Title className={styles.titleArticle}>{article.title}</Card.Title>\n\n\n\n\n\n                                    <Card.Text >\n                                        {article.text}\n                                    </Card.Text>\n\n                                    {/* {decodedToken.id == article.userId._id && */}\n                                    {article.canEdit ?\n                                        <div className={styles.editDeleteIcon}>\n                                            {/* <Button className={styles.btnEditeAndDelete} variant=\"outline-primary\"\n                                                onClick={() => updateHandle(article)}\n                                            >\n                                                Edit\n                                            </Button> */}\n\n                                            <FaPen\n                                                className={styles.etitIcon}\n                                                onClick={() => updateHandle(article)}\n                                            />\n                                            {/*    <Button className={styles.btnEditeAndDelete} variant=\"outline-danger\"\n                                                onClick={() => deleteArticle(article._id)}\n                                            >\n                                                Delete\n                                            </Button> */}\n                                            <FaTrashAlt\n                                                className={styles.deleteIcon}\n                                                onClick={() => deleteArticle(article._id)}\n                                            />\n                                        </div>\n                                        : <div></div>}\n                                    {/* } */}\n\n\n                                </Card.Body>\n                            </Card>\n\n                        )\n                    })}\n                </Col>\n            </Row>\n\n\n        </Container>\n    )\n}\n\nexport default CreateArticle;"]},"metadata":{},"sourceType":"module"}